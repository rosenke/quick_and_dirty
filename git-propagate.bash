#!/bin/bash

# Purpose:	git-propagate.bash
# Usage:	git-propagate.bash
# Example:	git-propagate.bash
# Responsible:	Stephan Rosenke <r01-571@r0s.de>
# License:	CC BY-SA 4.0
# Version:	2015-05-05
# Based on:	n/a

################################################################################
# set some user serviceable vars                                               #
################################################################################

branches="master"

################################################################################
################################################################################
######################### DON'T MESS BEHIND THIS LINE ##########################
################################################################################
################################################################################

################################################################################
# set some non-user serviceable vars                                           #
################################################################################

# unset LANG if you parse stdout-put of your commands for preventing problems
# with unanticipated languages
unset LANG


################################################################################
# define some functions                                                        #
################################################################################

#n/a

################################################################################
################################################################################
##################################### Main #####################################
################################################################################
################################################################################

#get remote repositories
repositories="$(git remote | sort -u)"

# iterate over repositories and branches and do the pushing
for i in ${repositories} ; do
 for j in ${branches} ; do
  echo "*** Push ${j} to ${i}"
  git push "${i}" "${j}"
 done
done

#cleanup
#n/a


################################################################################
##################################### EOF ######################################
################################################################################

